[1mdiff --git a/Controller/RouteXLController.php b/Controller/RouteXLController.php[m
[1mindex 15d8116..fc6baec 100644[m
[1m--- a/Controller/RouteXLController.php[m
[1m+++ b/Controller/RouteXLController.php[m
[36m@@ -374,9 +374,17 @@[m [mclass RouteXLController {[m
             $comparingTripPeriod = $this->getNthItemOfAssociativeArray($x, $sortedTripPeriodsOfTheDay);[m
             $comparingTripPeriodHaltStartTimeActual = $comparingTripPeriod->getPreviosTripPeriodArrivalTimeActual();[m
             $comparingTripPeriodHaltStartTimeActualInSeconds = $timeController->getSecondsFromTimeStamp($comparingTripPeriodHaltStartTimeActual);[m
[32m+[m[32m            $comparingTripPeriodHaltEndTimeActual = $comparingTripPeriod->getStartTimeActual();[m
[32m+[m[32m            $comparingTripPeriodHaltEndTimeActualInSeconds = $timeController->getSecondsFromTimeStamp($comparingTripPeriodHaltEndTimeActual);[m
[32m+[m
             if ($comparingTripPeriodHaltStartTimeActualInSeconds >= $loopEndPointInSeconds) {[m
                 break;[m
             } else {[m
[32m+[m[32m                if ($comparingTripPeriodHaltEndTimeActualInSeconds - $comparingTripPeriodHaltStartTimeActualInSeconds == 0) {[m
[32m+[m[32m                    //diladi ,if a bus departs immediately after arrival, then skip[m
[32m+[m[32m                               $x++;[m
[32m+[m[32m                    continue;[m
[32m+[m[32m                }[m
                 $tripPeriodHaltPoint = $tripPeriod->getDeparturePoint();[m
                 $comparingTripPeriodHaltPoint = $comparingTripPeriod->getDeparturePoint();[m
                 if ($tripPeriodHaltPoint == $comparingTripPeriodHaltPoint) {[m
